<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>mocha | ts-utils - v8.0.1</title><meta name="description" content="Documentation for ts-utils - v8.0.1"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script async src="../assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">ts-utils - v8.0.1</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><ul class="tsd-breadcrumb"><li><a href="../modules.html">ts-utils - v8.0.1</a></li><li><a href="mocha.html">mocha</a></li></ul><h1>Namespace mocha</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><section class="tsd-panel-group tsd-index-group"><h2>Index</h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section "><h3>Functions</h3><ul class="tsd-index-list"><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="mocha.html#rxMochaTests" class="tsd-kind-icon">rx<wbr/>Mocha<wbr/>Tests</a></li></ul></section></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Functions</h2><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-namespace"><a id="rxMochaTests" class="tsd-anchor"></a><h3>rx<wbr/>Mocha<wbr/>Tests</h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-namespace"><li class="tsd-signature tsd-kind-icon">rx<wbr/>Mocha<wbr/>Tests<span class="tsd-signature-symbol">(</span>__namedParameters<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{ </span>active<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span>assertions<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span>next<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span>, stream<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span>observables<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Observable</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span>testCaseName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span>timeout<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span>verbose<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in core/mocha.ts:117</li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Function to handle Observable tests, encapsulating them into an <strong>it</strong> Mocha
test structure.</p>
</div><div><p>If no assertions are provided, all tests will pass. Use <strong>undefined</strong> in
assertions to skip an assertion for a certain output in the Observable
stream. The last assertion is the assertion to be performed at stream
completion, take into account, however, that this assertion will only work
with the optional <strong>stream</strong> parameter of assertion functions, since no
stream value is available at this stage.</p>
<p>Example code:</p>
<pre><code class="language-TypeScript"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">o</span><span class="hl-0">: </span><span class="hl-6">rx</span><span class="hl-0">.</span><span class="hl-6">Observable</span><span class="hl-0">&lt;</span><span class="hl-6">any</span><span class="hl-0">&gt; = </span><span class="hl-7">rx</span><span class="hl-0">.</span><span class="hl-8">concat</span><span class="hl-0">(</span><br/><span class="hl-9">// If null is used, no assertion will be tested on the first output of the</span><br/><span class="hl-9">// Observable stream</span><br/><span class="hl-7">rx</span><span class="hl-0">.</span><span class="hl-8">of</span><span class="hl-0">(</span><span class="hl-2">0</span><span class="hl-0">, </span><span class="hl-2">1</span><span class="hl-0">, </span><span class="hl-2">2</span><span class="hl-0">, </span><span class="hl-10">&quot;A&quot;</span><span class="hl-0">), </span><span class="hl-9">// null,</span><br/><span class="hl-7">rx</span><span class="hl-0">.</span><span class="hl-8">throwError</span><span class="hl-0">(</span><span class="hl-4">new</span><span class="hl-0"> </span><span class="hl-6">Error</span><span class="hl-0">(</span><span class="hl-10">&quot;An error at the Observable stream&quot;</span><span class="hl-0">)),</span><br/><span class="hl-9">// This is unreachable due to the above error</span><br/><span class="hl-7">rx</span><span class="hl-0">.</span><span class="hl-8">of</span><span class="hl-0">(</span><span class="hl-2">994</span><span class="hl-0">)</span><br/><span class="hl-0">);</span><br/><br/><span class="hl-8">rxMochaTests</span><span class="hl-0">({</span><br/><span class="hl-7">testCaseName:</span><span class="hl-0"> </span><span class="hl-10">&quot;Dummy Test Case&quot;</span><span class="hl-0">,</span><br/><span class="hl-7">observable:</span><span class="hl-0"> </span><span class="hl-7">o</span><span class="hl-0">,</span><br/><span class="hl-7">assertions:</span><span class="hl-0"> [</span><br/><span class="hl-0">(</span><span class="hl-7">o</span><span class="hl-0">: </span><span class="hl-6">number</span><span class="hl-0">) </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><br/><span class="hl-8">expect</span><span class="hl-0">(</span><span class="hl-7">o</span><span class="hl-0">).</span><span class="hl-7">to</span><span class="hl-0">.</span><span class="hl-7">be</span><span class="hl-0">.</span><span class="hl-8">equal</span><span class="hl-0">(</span><span class="hl-2">0</span><span class="hl-0">);</span><br/><br/><span class="hl-0">},</span><br/><span class="hl-0">(</span><span class="hl-7">o</span><span class="hl-0">: </span><span class="hl-6">number</span><span class="hl-0">, </span><span class="hl-7">stream</span><span class="hl-0">: </span><span class="hl-6">any</span><span class="hl-0">[]) </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><br/><span class="hl-8">expect</span><span class="hl-0">(</span><span class="hl-7">o</span><span class="hl-0"> + </span><span class="hl-7">stream</span><span class="hl-0">[</span><span class="hl-2">0</span><span class="hl-0">]).</span><span class="hl-7">to</span><span class="hl-0">.</span><span class="hl-7">be</span><span class="hl-0">.</span><span class="hl-8">equal</span><span class="hl-0">(</span><span class="hl-2">1</span><span class="hl-0">);</span><br/><br/><span class="hl-0">},</span><br/><span class="hl-0">(</span><span class="hl-7">o</span><span class="hl-0">: </span><span class="hl-6">number</span><span class="hl-0">, </span><span class="hl-7">stream</span><span class="hl-0">: </span><span class="hl-6">any</span><span class="hl-0">[]) </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><br/><span class="hl-8">expect</span><span class="hl-0">(</span><span class="hl-7">o</span><span class="hl-0"> + </span><span class="hl-7">stream</span><span class="hl-0">[</span><span class="hl-2">0</span><span class="hl-0">] + </span><span class="hl-7">stream</span><span class="hl-0">[</span><span class="hl-2">1</span><span class="hl-0">]).</span><span class="hl-7">to</span><span class="hl-0">.</span><span class="hl-7">be</span><span class="hl-0">.</span><span class="hl-8">equal</span><span class="hl-0">(</span><span class="hl-2">3</span><span class="hl-0">);</span><br/><br/><span class="hl-0">},</span><br/><span class="hl-9">// Skipping this assertion</span><br/><span class="hl-4">undefined</span><span class="hl-0">,</span><br/><span class="hl-9">// (o: number, stream: any[]) =&gt; {</span><br/><span class="hl-9">//</span><br/><span class="hl-9">//   expect(o + stream[0]).to.be.equal(&quot;A0&quot;);</span><br/><span class="hl-9">//</span><br/><span class="hl-9">// },</span><br/><span class="hl-0">(</span><span class="hl-7">e</span><span class="hl-0">: </span><span class="hl-6">any</span><span class="hl-0">) </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><br/><span class="hl-8">expect</span><span class="hl-0">(</span><span class="hl-7">e</span><span class="hl-0">.</span><span class="hl-7">message</span><span class="hl-0">).</span><span class="hl-7">to</span><span class="hl-0">.</span><span class="hl-7">be</span><span class="hl-0">.</span><span class="hl-8">equal</span><span class="hl-0">(</span><span class="hl-10">&quot;An error at the Observable stream&quot;</span><span class="hl-0">);</span><br/><br/><span class="hl-0">},</span><br/><span class="hl-0">(</span><span class="hl-7">o</span><span class="hl-0">: </span><span class="hl-6">number</span><span class="hl-0">) </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><br/><span class="hl-8">expect</span><span class="hl-0">(</span><span class="hl-7">o</span><span class="hl-0">).</span><span class="hl-7">to</span><span class="hl-0">.</span><span class="hl-7">be</span><span class="hl-0">.</span><span class="hl-8">equal</span><span class="hl-0">(</span><span class="hl-2">994</span><span class="hl-0">);</span><br/><br/><span class="hl-0">},</span><br/><span class="hl-9">// This is the assertion for the complete</span><br/><span class="hl-0">(</span><span class="hl-7">o</span><span class="hl-0">: </span><span class="hl-6">any</span><span class="hl-0">, </span><span class="hl-7">stream</span><span class="hl-0">: </span><span class="hl-6">any</span><span class="hl-0">[]) </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><br/><span class="hl-8">expect</span><span class="hl-0">(</span><span class="hl-7">stream</span><span class="hl-0">[</span><span class="hl-2">0</span><span class="hl-0">] + </span><span class="hl-7">stream</span><span class="hl-0">[</span><span class="hl-2">1</span><span class="hl-0">] + </span><span class="hl-7">stream</span><span class="hl-0">[</span><span class="hl-2">2</span><span class="hl-0">] + </span><span class="hl-7">stream</span><span class="hl-0">[</span><span class="hl-2">3</span><span class="hl-0">]).</span><span class="hl-7">to</span><span class="hl-0">.</span><span class="hl-7">be</span><span class="hl-0">.</span><span class="hl-8">equal</span><span class="hl-0">(</span><span class="hl-10">&quot;3A&quot;</span><span class="hl-0">);</span><br/><br/><span class="hl-0">}</span><br/><span class="hl-0">],</span><br/><span class="hl-7">timeout:</span><span class="hl-0"> </span><span class="hl-2">5000</span><span class="hl-0">,</span><br/><span class="hl-7">verbose:</span><span class="hl-0"> </span><span class="hl-4">true</span><br/><span class="hl-0">});</span>
</code></pre>
<p>Assertion functions follow this prototype:</p>
<pre><code class="language-TypeScript"><span class="hl-0">(</span><span class="hl-7">value</span><span class="hl-0">: </span><span class="hl-6">any</span><span class="hl-0">, </span><span class="hl-7">stream</span><span class="hl-0">: </span><span class="hl-6">any</span><span class="hl-0">[]) </span><span class="hl-4">=&gt;</span><span class="hl-0"> </span><span class="hl-4">void</span>
</code></pre>
<p>where <strong>value</strong> is the stream value or error output from the testing
observable and <strong>stream</strong> is the array containing all values and errors
previously outputted.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>__namedParameters: <span class="tsd-signature-symbol">{ </span>active<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span>assertions<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span>next<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span>, stream<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span>observables<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Observable</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span>testCaseName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span>timeout<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span>verbose<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> }</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Tests options.</p>
</div></div><ul class="tsd-parameters"><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> active<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> assertions<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span>next<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span>, stream<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">[]</span></h5></li><li class="tsd-parameter"><h5>observables<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Observable</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span></h5></li><li class="tsd-parameter"><h5>test<wbr/>Case<wbr/>Name<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> timeout<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">number</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> verbose<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span></h5></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section></section></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class=""><a href="../modules.html">Exports</a></li><li class=" tsd-kind-namespace"><a href="array.html">array</a></li><li class=" tsd-kind-namespace"><a href="axios.html">axios</a></li><li class=" tsd-kind-namespace"><a href="csv.html">csv</a></li><li class=" tsd-kind-namespace"><a href="enums.html">enums</a></li><li class=" tsd-kind-namespace"><a href="formattedoutput.html">formattedoutput</a></li><li class=" tsd-kind-namespace"><a href="hashmap.html">hashmap</a></li><li class=" tsd-kind-namespace"><a href="listcollection.html">listcollection</a></li><li class=" tsd-kind-namespace"><a href="map.html">map</a></li><li class="current tsd-kind-namespace"><a href="mocha.html">mocha</a></li><li class=" tsd-kind-namespace"><a href="time.html">time</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-function tsd-parent-kind-namespace"><a href="mocha.html#rxMochaTests" class="tsd-kind-icon">rx<wbr/>Mocha<wbr/>Tests</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="../assets/main.js"></script></body></html>